!function(e){function t(a){if(n[a])return n[a].exports;var i=n[a]={exports:{},id:a,loaded:!1};return e[a].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="/dist/",t(0)}([function(e,exports,t){e.exports=t(1)},function(e,exports,t){$(function(){t(2),t(34),t(48),t(49),t(50)})},function(e,exports,t){function n(e,t){t||(t=window.location.href),e=e.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)"),a=n.exec(t);return a?a[2]?decodeURIComponent(a[2].replace(/\+/g," ")):"":null}var a=t(3),i=$(".b-search"),r=$(".b-search-example__item a")[0],s=n("_openstat")||"UmFtYmxlcl9NYWluOzs7";i.append($("<input />").attr({type:"hidden",name:"_openstat",value:s})),r&&(r.search+="&_openstat="+encodeURIComponent(s)),new a({$container:i,sourceType:"searchNova",show_temperature:!1,all_items_link:!1,items_clickable:!0,selectOnEnter:!1,preventOnLoading:!1,submitOnClick:!0,onSubmit:function(e,t){-1!==this.selectedItemIndex&&i.find("input:hidden:last").after('<input type="hidden" name="suggest" value="true" />'),13===t.keyCode&&i.find("[name=utm_medium]").val("enter")}})},function(e,exports,t){e.exports=t(4)},function(e,exports,t){var n=t(5),a=t(7);e.exports=function(e){"use strict";function i(e){if(m.requestInProgress&&m.settings.preventOnLoading)return!1;switch(e.keyCode){case 27:c();break;case 38:m.selectedItemIndex=m.selectedItemIndex-1<0?m.itemsCount-1:--m.selectedItemIndex,s(m.selectedItemIndex);break;case 40:m.selectedItemIndex=m.selectedItemIndex+1>=m.itemsCount?0:++m.selectedItemIndex,s(m.selectedItemIndex);break;case 13:e.preventDefault(),1===m.itemsCount&&m.settings.selectOnEnter&&(s(0),m.settings.submitOnEnter&&r(e)),-1===m.selectedItemIndex&&m.settings.selectOnEnter?s(0):m.settings.submitOnEnter&&r(e)}}function r(e){var t=g.find(".suggest-item").eq(m.selectedItemIndex);m.settings.onSubmit.call(m,t,e),-1!==m.selectedItemIndex&&g.attr("action",$(".suggest-item--selected").attr("href")),g.get(0).submit()}function s(e){var t=$(".suggest-item").eq(e);$(".suggest-item--selected").removeClass("suggest-item--selected"),t.addClass("suggest-item--selected"),h.val(t.find(".suggest-item__title").text().trim())}function l(e){var t=h.val();if(!([13,27,37,38,39,40].indexOf(e.keyCode)>0)){if(8===e.keyCode){if(0===t.length)return void c();if(t.length<d)return m.selectedItemIndex=-1,void v.html("").removeClass("suggest__items--expanded")}t.length<d||(m.settings.onInput(h.val()),o())}}function o(){var e=m.settings.sourceType,t=_[e],n=t.requestData;n[t.query_param]=h.val(),m.settings.$container.addClass("loading"),m.requestInProgress=!0,$.ajax({url:_[e].path,type:"GET",dataType:t.type,jsonp:"jsonp",data:n,success:u})}function u(e){m.settings.$container.removeClass("loading"),m.requestInProgress=!1;var t,n=_[m.settings.sourceType].dataFilter(e);n=n.splice(0,p),m.settings.dataFilter&&(n=m.settings.dataFilter(n));new RegExp(h.val(),"i");m.settings.all_items_link&&(m.itemsCount=n.length+1),m.itemsCount=n.length,v.html(""),t=a({items:n,params:{show_temperature:m.settings.show_temperature,all_items_link:m.settings.all_items_link,items_clickable:m.settings.items_clickable,top100:m.settings.top100}}),v.append(t),v.addClass("suggest__items--expanded"),v.find(".suggest-item").each(function(e){$(this).on("click",function(t){m.selectedItemIndex=e,s(e),m.settings.onSelect($(this),t),m.settings.closeOnSelect&&c(!1),m.settings.submitOnClick&&(t.preventDefault(),r(t))})})}function c(e){e="undefined"==typeof e?!0:e,v.find(".suggest-item").length>0&&(m.selectedItemIndex=-1,e&&h.val(""),v.removeClass("suggest__items--expanded"))}var d=3,p=7;this.params=e,this.itemsCount=0,this.selectedItemIndex=-1,this.requestInProgress=!1;var f={marker:!1,show_temperature:!0,all_items_link:!0,items_clickable:!0,sourceType:"internal",template:"suggest",submitOnEnter:!0,submitOnClick:!1,selectOnEnter:!0,closeOnSelect:!1,dataFilter:null,preventOnLoading:!0,top100:null,onSelect:function(){},onSubmit:function(){},onInput:function(){}};this.settings=$.extend({},f,this.params);var m=this,g=this.settings.$container,h=g.find(".suggest__input"),v=g.find(".suggest__items"),_={global:t(31),internal:t(32),searchNova:t(33)};h.on("keydown",i),h.on("keyup",n.debounce(l,200)),n.outerClick(".suggest__input",this.settings.$container,c)}},function(e,exports,t){e.exports=t(6)},function(e,exports){var t={};t.debounce=function(e,t,n){var a;return function(){var i=this,r=arguments,s=function(){a=null,n||e.apply(i,r)},l=n&&!a;clearTimeout(a),a=setTimeout(s,t),l&&e.apply(i,r)}},t.outerClick=function(e,t,n){$(document).on("click",function(a){var i=$(a.target);0===i.closest(t).length&&!1===i.is(e)&&0==i.closest(e).length&&n()})},t.getCookie=function(e){var t="; "+document.cookie,n=t.split("; "+e+"=");return 2==n.length?n.pop().split(";").shift():void 0},e.exports=t},function(e,exports,t){var n=t(8);e.exports=(n["default"]||n).template({1:function(e,t,n,a,i,r,s){var l;return null!=(l=n["if"].call(null!=t?t:{},null!=(l=null!=s[1]?s[1].params:s[1])?l.items_clickable:l,{name:"if",hash:{},fn:e.program(2,i,0,r,s),inverse:e.program(4,i,0,r,s),data:i}))?l:""},2:function(e,n,a,i,r,s,l){var o;return null!=(o=e.invokePartial(t(27),n,{name:"suggest-item--clickable",hash:{params:null!=l[1]?l[1].params:l[1]},data:r,indent:"        ",helpers:a,partials:i,decorators:e.decorators}))?o:""},4:function(e,n,a,i,r,s,l){var o;return null!=(o=e.invokePartial(t(30),n,{name:"suggest-item",hash:{params:null!=l[1]?l[1].params:l[1]},data:r,indent:"        ",helpers:a,partials:i,decorators:e.decorators}))?o:""},6:function(e,t,n,a,i){return'    <a href="/world/" class="suggest-item suggest-item--all">Все города</a>\n'},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,i,r,s){var l,o=null!=t?t:{};return(null!=(l=n.each.call(o,null!=t?t.items:t,{name:"each",hash:{},fn:e.program(1,i,0,r,s),inverse:e.noop,data:i}))?l:"")+(null!=(l=n["if"].call(o,null!=(l=null!=t?t.params:t)?l.all_items_link:l,{name:"if",hash:{},fn:e.program(6,i,0,r,s),inverse:e.noop,data:i}))?l:"")},usePartial:!0,useData:!0,useDepths:!0})},function(e,exports,t){e.exports=t(9)["default"]},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(){var e=new s.HandlebarsEnvironment;return p.extend(e,s),e.SafeString=o["default"],e.Exception=c["default"],e.Utils=p,e.escapeExpression=p.escapeExpression,e.VM=m,e.template=function(t){return m.template(t,e)},e}exports.__esModule=!0;var r=t(10),s=a(r),l=t(24),o=n(l),u=t(12),c=n(u),d=t(11),p=a(d),f=t(25),m=a(f),g=t(26),h=n(g),v=i();v.create=i,h["default"](v),v["default"]=v,exports["default"]=v,e.exports=exports["default"]},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t,n){this.helpers=e||{},this.partials=t||{},this.decorators=n||{},l.registerDefaultHelpers(this),o.registerDefaultDecorators(this)}exports.__esModule=!0,exports.HandlebarsEnvironment=a;var i=t(11),r=t(12),s=n(r),l=t(13),o=t(21),u=t(23),c=n(u),d="4.0.5";exports.VERSION=d;var p=7;exports.COMPILER_REVISION=p;var f={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0"};exports.REVISION_CHANGES=f;var m="[object Object]";a.prototype={constructor:a,logger:c["default"],log:c["default"].log,registerHelper:function(e,t){if(i.toString.call(e)===m){if(t)throw new s["default"]("Arg not supported with multiple helpers");i.extend(this.helpers,e)}else this.helpers[e]=t},unregisterHelper:function(e){delete this.helpers[e]},registerPartial:function(e,t){if(i.toString.call(e)===m)i.extend(this.partials,e);else{if("undefined"==typeof t)throw new s["default"]('Attempting to register a partial called "'+e+'" as undefined');this.partials[e]=t}},unregisterPartial:function(e){delete this.partials[e]},registerDecorator:function(e,t){if(i.toString.call(e)===m){if(t)throw new s["default"]("Arg not supported with multiple decorators");i.extend(this.decorators,e)}else this.decorators[e]=t},unregisterDecorator:function(e){delete this.decorators[e]}};var g=c["default"].log;exports.log=g,exports.createFrame=i.createFrame,exports.logger=c["default"]},function(e,exports){"use strict";function t(e){return u[e]}function n(e){for(var t=1;t<arguments.length;t++)for(var n in arguments[t])Object.prototype.hasOwnProperty.call(arguments[t],n)&&(e[n]=arguments[t][n]);return e}function a(e,t){for(var n=0,a=e.length;a>n;n++)if(e[n]===t)return n;return-1}function i(e){if("string"!=typeof e){if(e&&e.toHTML)return e.toHTML();if(null==e)return"";if(!e)return e+"";e=""+e}return d.test(e)?e.replace(c,t):e}function r(e){return e||0===e?!(!m(e)||0!==e.length):!0}function s(e){var t=n({},e);return t._parent=e,t}function l(e,t){return e.path=t,e}function o(e,t){return(e?e+".":"")+t}exports.__esModule=!0,exports.extend=n,exports.indexOf=a,exports.escapeExpression=i,exports.isEmpty=r,exports.createFrame=s,exports.blockParams=l,exports.appendContextPath=o;var u={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},c=/[&<>"'`=]/g,d=/[&<>"'`=]/,p=Object.prototype.toString;exports.toString=p;var f=function(e){return"function"==typeof e};f(/x/)&&(exports.isFunction=f=function(e){return"function"==typeof e&&"[object Function]"===p.call(e)}),exports.isFunction=f;var m=Array.isArray||function(e){return e&&"object"==typeof e?"[object Array]"===p.call(e):!1};exports.isArray=m},function(e,exports){"use strict";function t(e,a){var i=a&&a.loc,r=void 0,s=void 0;i&&(r=i.start.line,s=i.start.column,e+=" - "+r+":"+s);for(var l=Error.prototype.constructor.call(this,e),o=0;o<n.length;o++)this[n[o]]=l[n[o]];Error.captureStackTrace&&Error.captureStackTrace(this,t),i&&(this.lineNumber=r,this.column=s)}exports.__esModule=!0;var n=["description","fileName","lineNumber","message","name","number","stack"];t.prototype=new Error,exports["default"]=t,e.exports=exports["default"]},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e){r["default"](e),l["default"](e),u["default"](e),d["default"](e),f["default"](e),g["default"](e),v["default"](e)}exports.__esModule=!0,exports.registerDefaultHelpers=a;var i=t(14),r=n(i),s=t(15),l=n(s),o=t(16),u=n(o),c=t(17),d=n(c),p=t(18),f=n(p),m=t(19),g=n(m),h=t(20),v=n(h)},function(e,exports,t){"use strict";exports.__esModule=!0;var n=t(11);exports["default"]=function(e){e.registerHelper("blockHelperMissing",function(t,a){var i=a.inverse,r=a.fn;if(t===!0)return r(this);if(t===!1||null==t)return i(this);if(n.isArray(t))return t.length>0?(a.ids&&(a.ids=[a.name]),e.helpers.each(t,a)):i(this);if(a.data&&a.ids){var s=n.createFrame(a.data);s.contextPath=n.appendContextPath(a.data.contextPath,a.name),a={data:s}}return r(t,a)})},e.exports=exports["default"]},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}exports.__esModule=!0;var a=t(11),i=t(12),r=n(i);exports["default"]=function(e){e.registerHelper("each",function(e,t){function n(t,n,r){u&&(u.key=t,u.index=n,u.first=0===n,u.last=!!r,c&&(u.contextPath=c+t)),o+=i(e[t],{data:u,blockParams:a.blockParams([e[t],t],[c+t,null])})}if(!t)throw new r["default"]("Must pass iterator to #each");var i=t.fn,s=t.inverse,l=0,o="",u=void 0,c=void 0;if(t.data&&t.ids&&(c=a.appendContextPath(t.data.contextPath,t.ids[0])+"."),a.isFunction(e)&&(e=e.call(this)),t.data&&(u=a.createFrame(t.data)),e&&"object"==typeof e)if(a.isArray(e))for(var d=e.length;d>l;l++)l in e&&n(l,l,l===e.length-1);else{var p=void 0;for(var f in e)e.hasOwnProperty(f)&&(void 0!==p&&n(p,l-1),p=f,l++);void 0!==p&&n(p,l-1,!0)}return 0===l&&(o=s(this)),o})},e.exports=exports["default"]},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}exports.__esModule=!0;var a=t(12),i=n(a);exports["default"]=function(e){e.registerHelper("helperMissing",function(){if(1!==arguments.length)throw new i["default"]('Missing helper: "'+arguments[arguments.length-1].name+'"')})},e.exports=exports["default"]},function(e,exports,t){"use strict";exports.__esModule=!0;var n=t(11);exports["default"]=function(e){e.registerHelper("if",function(e,t){return n.isFunction(e)&&(e=e.call(this)),!t.hash.includeZero&&!e||n.isEmpty(e)?t.inverse(this):t.fn(this)}),e.registerHelper("unless",function(t,n){return e.helpers["if"].call(this,t,{fn:n.inverse,inverse:n.fn,hash:n.hash})})},e.exports=exports["default"]},function(e,exports){"use strict";exports.__esModule=!0,exports["default"]=function(e){e.registerHelper("log",function(){for(var t=[void 0],n=arguments[arguments.length-1],a=0;a<arguments.length-1;a++)t.push(arguments[a]);var i=1;null!=n.hash.level?i=n.hash.level:n.data&&null!=n.data.level&&(i=n.data.level),t[0]=i,e.log.apply(e,t)})},e.exports=exports["default"]},function(e,exports){"use strict";exports.__esModule=!0,exports["default"]=function(e){e.registerHelper("lookup",function(e,t){return e&&e[t]})},e.exports=exports["default"]},function(e,exports,t){"use strict";exports.__esModule=!0;var n=t(11);exports["default"]=function(e){e.registerHelper("with",function(e,t){n.isFunction(e)&&(e=e.call(this));var a=t.fn;if(n.isEmpty(e))return t.inverse(this);var i=t.data;return t.data&&t.ids&&(i=n.createFrame(t.data),i.contextPath=n.appendContextPath(t.data.contextPath,t.ids[0])),a(e,{data:i,blockParams:n.blockParams([e],[i&&i.contextPath])})})},e.exports=exports["default"]},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e){r["default"](e)}exports.__esModule=!0,exports.registerDefaultDecorators=a;var i=t(22),r=n(i)},function(e,exports,t){"use strict";exports.__esModule=!0;var n=t(11);exports["default"]=function(e){e.registerDecorator("inline",function(e,t,a,i){var r=e;return t.partials||(t.partials={},r=function(i,r){var s=a.partials;a.partials=n.extend({},s,t.partials);var l=e(i,r);return a.partials=s,l}),t.partials[i.args[0]]=i.fn,r})},e.exports=exports["default"]},function(e,exports,t){"use strict";exports.__esModule=!0;var n=t(11),a={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(e){if("string"==typeof e){var t=n.indexOf(a.methodMap,e.toLowerCase());e=t>=0?t:parseInt(e,10)}return e},log:function(e){if(e=a.lookupLevel(e),"undefined"!=typeof console&&a.lookupLevel(a.level)<=e){var t=a.methodMap[e];console[t]||(t="log");for(var n=arguments.length,i=Array(n>1?n-1:0),r=1;n>r;r++)i[r-1]=arguments[r];console[t].apply(console,i)}}};exports["default"]=a,e.exports=exports["default"]},function(e,exports){"use strict";function t(e){this.string=e}exports.__esModule=!0,t.prototype.toString=t.prototype.toHTML=function(){return""+this.string},exports["default"]=t,e.exports=exports["default"]},function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){var t=e&&e[0]||1,n=h.COMPILER_REVISION;if(t!==n){if(n>t){var a=h.REVISION_CHANGES[n],i=h.REVISION_CHANGES[t];throw new g["default"]("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+a+") or downgrade your runtime to an older version ("+i+").")}throw new g["default"]("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+e[1]+").")}}function r(e,t){function n(n,a,i){i.hash&&(a=f.extend({},a,i.hash),i.ids&&(i.ids[0]=!0)),n=t.VM.resolvePartial.call(this,n,a,i);var r=t.VM.invokePartial.call(this,n,a,i);if(null==r&&t.compile&&(i.partials[i.name]=t.compile(n,e.compilerOptions,t),r=i.partials[i.name](a,i)),null!=r){if(i.indent){for(var s=r.split("\n"),l=0,o=s.length;o>l&&(s[l]||l+1!==o);l++)s[l]=i.indent+s[l];r=s.join("\n")}return r}throw new g["default"]("The partial "+i.name+" could not be compiled when running in runtime-only mode")}function a(t){function n(t){return""+e.main(i,t,i.helpers,i.partials,s,o,l)}var r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],s=r.data;a._setup(r),!r.partial&&e.useData&&(s=c(t,s));var l=void 0,o=e.useBlockParams?[]:void 0;return e.useDepths&&(l=r.depths?t!==r.depths[0]?[t].concat(r.depths):r.depths:[t]),(n=d(e.main,n,i,r.depths||[],s,o))(t,r)}if(!t)throw new g["default"]("No environment passed to template");if(!e||!e.main)throw new g["default"]("Unknown template object: "+typeof e);e.main.decorator=e.main_d,t.VM.checkRevision(e.compiler);var i={strict:function(e,t){if(!(t in e))throw new g["default"]('"'+t+'" not defined in '+e);return e[t]},lookup:function(e,t){for(var n=e.length,a=0;n>a;a++)if(e[a]&&null!=e[a][t])return e[a][t]},lambda:function(e,t){return"function"==typeof e?e.call(t):e},escapeExpression:f.escapeExpression,invokePartial:n,fn:function(t){var n=e[t];return n.decorator=e[t+"_d"],n},programs:[],program:function(e,t,n,a,i){var r=this.programs[e],l=this.fn(e);return t||i||a||n?r=s(this,e,l,t,n,a,i):r||(r=this.programs[e]=s(this,e,l)),r},data:function(e,t){for(;e&&t--;)e=e._parent;return e},merge:function(e,t){var n=e||t;return e&&t&&e!==t&&(n=f.extend({},t,e)),n},noop:t.VM.noop,compilerInfo:e.compiler};return a.isTop=!0,a._setup=function(n){n.partial?(i.helpers=n.helpers,i.partials=n.partials,i.decorators=n.decorators):(i.helpers=i.merge(n.helpers,t.helpers),e.usePartial&&(i.partials=i.merge(n.partials,t.partials)),(e.usePartial||e.useDecorators)&&(i.decorators=i.merge(n.decorators,t.decorators)))},a._child=function(t,n,a,r){if(e.useBlockParams&&!a)throw new g["default"]("must pass block params");if(e.useDepths&&!r)throw new g["default"]("must pass parent depths");return s(i,t,e[t],n,0,a,r)},a}function s(e,t,n,a,i,r,s){function l(t){var i=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],l=s;return s&&t!==s[0]&&(l=[t].concat(s)),n(e,t,e.helpers,e.partials,i.data||a,r&&[i.blockParams].concat(r),l)}return l=d(n,l,e,s,a,r),l.program=t,l.depth=s?s.length:0,l.blockParams=i||0,l}function l(e,t,n){return e?e.call||n.name||(n.name=e,e=n.partials[e]):e="@partial-block"===n.name?n.data["partial-block"]:n.partials[n.name],e}function o(e,t,n){n.partial=!0,n.ids&&(n.data.contextPath=n.ids[0]||n.data.contextPath);var a=void 0;if(n.fn&&n.fn!==u&&(n.data=h.createFrame(n.data),a=n.data["partial-block"]=n.fn,a.partials&&(n.partials=f.extend({},n.partials,a.partials))),void 0===e&&a&&(e=a),void 0===e)throw new g["default"]("The partial "+n.name+" could not be found");return e instanceof Function?e(t,n):void 0}function u(){return""}function c(e,t){return t&&"root"in t||(t=t?h.createFrame(t):{},t.root=e),t}function d(e,t,n,a,i,r){if(e.decorator){var s={};t=e.decorator(t,s,n,a&&a[0],i,r,a),f.extend(t,s)}return t}exports.__esModule=!0,exports.checkRevision=i,exports.template=r,exports.wrapProgram=s,exports.resolvePartial=l,exports.invokePartial=o,exports.noop=u;var p=t(11),f=a(p),m=t(12),g=n(m),h=t(10)},function(e,exports){(function(t){"use strict";exports.__esModule=!0,exports["default"]=function(e){var n="undefined"!=typeof t?t:window,a=n.Handlebars;e.noConflict=function(){return n.Handlebars===e&&(n.Handlebars=a),e}},e.exports=exports["default"]}).call(exports,function(){return this}())},function(e,exports,t){var n=t(8);e.exports=(n["default"]||n).template({1:function(e,t,n,a,i){var r,s=e.lambda,l=e.escapeExpression;return"data-cerber-"+l(s(null!=(r=null!=(r=null!=t?t.params:t)?r.top100:r)?r.name:r,t))+'="'+l(s(null!=(r=null!=(r=null!=t?t.params:t)?r.top100:r)?r.value:r,t))+'"'},compiler:[7,">= 4.0.0"],main:function(e,n,a,i,r){var s;return'<a href="'+e.escapeExpression(e.lambda(null!=n?n.link:n,n))+'" class="suggest-item" '+(null!=(s=a["if"].call(null!=n?n:{},null!=(s=null!=n?n.params:n)?s.top100:s,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r}))?s:"")+">\n"+(null!=(s=e.invokePartial(t(28),n,{name:"suggest-item__content",data:r,indent:"    ",helpers:a,partials:i,decorators:e.decorators}))?s:"")+"</a>\n"},usePartial:!0,useData:!0})},function(e,exports,t){var n=t(8);e.exports=(n["default"]||n).template({1:function(e,t,n,a,i){return', <span class="suggest-item__region">'+e.escapeExpression(e.lambda(null!=t?t.region:t,t))},3:function(e,n,a,i,r){var s;return'    <span class="suggest-item__icon">\n'+(null!=(s=e.invokePartial(t(29),n,{name:"$front-utils/templates/icon",data:r,indent:"        ",helpers:a,partials:i,decorators:e.decorators}))?s:"")+'    </span>\n    <span class="suggest-item__value">'+e.escapeExpression(e.lambda(null!=n?n.day:n,n))+"</span>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,i){var r,s=null!=t?t:{};return'<div class="suggest-item__title">\n    <span>'+e.escapeExpression(e.lambda(null!=t?t.title:t,t))+"</span>"+(null!=(r=n["if"].call(s,null!=t?t.region:t,{name:"if",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i}))?r:"")+"</span>\n</div>\n"+(null!=(r=n["if"].call(s,null!=(r=null!=t?t.params:t)?r.show_temperature:r,{name:"if",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?r:"")},usePartial:!0,useData:!0})},function(e,exports,t){var n=t(8);e.exports=(n["default"]||n).template({1:function(e,t,n,a,i){var r;return" "+e.escapeExpression((r=null!=(r=n.modifier||(null!=t?t.modifier:t))?r:n.helperMissing,"function"==typeof r?r.call(null!=t?t:{},{name:"modifier",hash:{},data:i}):r))},3:function(e,t,n,a,i){var r;return' title="'+e.escapeExpression((r=null!=(r=n.title||(null!=t?t.title:t))?r:n.helperMissing,"function"==typeof r?r.call(null!=t?t:{},{name:"title",hash:{},data:i}):r))+'"'},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,i){var r,s,l=null!=t?t:{},o=n.helperMissing,u="function",c=e.escapeExpression;return'<i class="icon icon-'+c((s=null!=(s=n.name||(null!=t?t.name:t))?s:o,typeof s===u?s.call(l,{name:"name",hash:{},data:i}):s))+(null!=(r=n["if"].call(l,null!=t?t.modifier:t,{name:"if",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i}))?r:"")+'"'+(null!=(r=n["if"].call(l,null!=t?t.title:t,{name:"if",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?r:"")+'><svg class="icon__svg icon-'+c((s=null!=(s=n.name||(null!=t?t.name:t))?s:o,typeof s===u?s.call(l,{name:"name",hash:{},data:i}):s))+'">\n    <use xlink:href="#'+c((s=null!=(s=n.name||(null!=t?t.name:t))?s:o,typeof s===u?s.call(l,{name:"name",hash:{},data:i}):s))+'"></use>\n</svg></i>\n\n\n'},useData:!0})},function(e,exports,t){var n=t(8);e.exports=(n["default"]||n).template({compiler:[7,">= 4.0.0"],main:function(e,n,a,i,r){var s;return'<div class="suggest-item" data-geoid="'+e.escapeExpression(e.lambda(null!=n?n.id:n,n))+'">\n'+(null!=(s=e.invokePartial(t(28),n,{name:"suggest-item__content",data:r,indent:"    ",helpers:a,partials:i,decorators:e.decorators}))?s:"")+"</div>\n"},usePartial:!0,useData:!0})},function(e,exports){e.exports={path:"/location/geo_list/",requestData:{},query_param:"s",type:"json",dataFilter:function(e){var t=[];for(var n in e)t.push({id:e[n].id,title:e[n].name,weight:e[n].weight,region:e[n].parents});return t.sort(function(e,t){return e.weight-t.weight}),t}}},function(e,exports){e.exports={path:"/suggest_weather",requestData:{},query_param:"query",type:"json",dataFilter:function(e){var t=e.items;t.map(function(e){var t=e.region?"("+e.region+")":"";return _this.settings.marker?(e.marker=itemTitle.match(r)[0],e.title=itemTitle.replace(r,$("<b/>").text(e.marker))):e.title=e.city+t,e})}}},function(e,exports){e.exports={path:"https://nova.rambler.ru/suggest",requestData:{v:4},query_param:"query",type:"jsonp",dataFilter:function(e){var t=[],n=e[1];for(var a in n)t.push({id:a,title:n[a][1],link:"https://nova.rambler.ru/search?utm_source=nhp&query="+n[a][1]});return t}}},function(e,exports,t){var n=t(35);new n({buttonSelector:".js-location-modal"})},function(e,exports,t){e.exports=t(36)},function(e,exports,t){function n(e){this.$body=$("body"),this.$elem=$(r()).appendTo(this.$body),this.settings=$.extend({},s,e),this.isOpened=!1,this.lastGeoid=null,this.init()}var a=t(5),i=t(37),r=t(46),s={buttonSelector:!1};n.prototype.setLocation=function(e){var t=this,n=new Image,a=new Image,i=new Image;e?(n.src="http://www.rambler.ru/location/set.html?back="+e,a.src="http://www.rambler.ua/location/set.html?back="+e,i.src="http://r0.ru/location/set.html?back="+e):(n.src="http://www.rambler.ru/location/set.html",a.src="http://www.rambler.ua/location/set.html",i.src="http://r0.ru/location/set.html"),t.$elem.addClass("widget-location--loading");var r=setInterval(function(){n.complete&&i.complete&&a.complete&&(t.close(!0),clearInterval(r))},50)},n.prototype.init=function(){var e=this;new i({$container:$(".widget-location__suggest"),sourceType:"global",all_items_link:!1,show_temperature:!1,items_clickable:!1,submitOnEnter:!0,closeOnSelect:!0,preventOnLoading:!1,onSubmit:function(t){e.setLocation(t.data("geoid"))},onSelect:function(t){e.lastGeoid=t.data("geoid")}}),$(this.settings.buttonSelector).click(function(t){t.preventDefault(),e.open()}),$(".widget-location__save").on("click",function(){var t=!!parseInt(e.$elem.find(".geolocation:checked").val());t?e.setLocation():e.setLocation(e.lastGeoid)}),$(".widget-location__choice--manual").on("click",function(e){$(".geolocation--manual").prop("checked",!0),$(this).find(".suggest__input").select()}),$(".widget-location__close, .widget-location__cancel").on("click",function(t){t.preventDefault(),e.close()}),$(document).on("keydown",function(t){27===t.keyCode&&e.isOpened&&e.close()}),a.outerClick(this.settings.buttonSelector,this.$elem,function(){e.isOpened&&e.close()})},n.prototype.open=function(){this.isOpened=!0,$(".geolocation--auto").prop("checked",!0),this.$body.addClass("overlay");var e=this,t=a.getCookie("geoid");$.get("/location/autodetect",{},function(n){var a=function(e){return"30"==e.type?e.name:a(e.parent)},i=e.$elem.find(".suggest__input");e.$elem.find(".js-auto-city__text").text(n.name+", "+a(n)),e.$elem.show(),t?$.get("/location/geo/"+t,{},function(e){i.val(e.name),t==n.id&&($(".geolocation--manual").click(),i.select())},"json"):($(".geolocation--manual").click(),i.select())},"json")},n.prototype.close=function(e){this.isOpened=!1,this.$elem.hide(),this.$body.removeClass("overlay"),e&&(window.location.href="/")},e.exports=n},function(e,exports,t){e.exports=t(38)},function(e,exports,t){var n=t(5),a=t(39);e.exports=function(e){"use strict";function i(e){if(m.requestInProgress&&m.settings.preventOnLoading)return!1;switch(e.keyCode){case 27:c();break;case 38:m.selectedItemIndex=m.selectedItemIndex-1<0?m.itemsCount-1:--m.selectedItemIndex,s(m.selectedItemIndex);break;case 40:m.selectedItemIndex=m.selectedItemIndex+1>=m.itemsCount?0:++m.selectedItemIndex,s(m.selectedItemIndex);break;case 13:e.preventDefault(),1===m.itemsCount&&m.settings.selectOnEnter&&(s(0),m.settings.submitOnEnter&&r(e)),-1===m.selectedItemIndex&&m.settings.selectOnEnter?s(0):m.settings.submitOnEnter&&r(e)}}function r(e){var t=g.find(".suggest-item").eq(m.selectedItemIndex);m.settings.onSubmit.call(m,t,e),-1!==m.selectedItemIndex&&g.attr("action",$(".suggest-item--selected").attr("href")),g.get(0).submit()}function s(e){var t=$(".suggest-item").eq(e);$(".suggest-item--selected").removeClass("suggest-item--selected"),t.addClass("suggest-item--selected"),h.val(t.find(".suggest-item__title").text().trim())}function l(e){var t=h.val();if(!([13,27,37,38,39,40].indexOf(e.keyCode)>0)){if(8===e.keyCode){if(0===t.length)return void c();if(t.length<d)return m.selectedItemIndex=-1,void v.html("").removeClass("suggest__items--expanded")}t.length<d||(m.settings.onInput(h.val()),o())}}function o(){var e=m.settings.sourceType,t=_[e],n=t.requestData;n[t.query_param]=h.val(),m.settings.$container.addClass("loading"),m.requestInProgress=!0,$.ajax({url:_[e].path,type:"GET",dataType:t.type,jsonp:"jsonp",data:n,success:u})}function u(e){m.settings.$container.removeClass("loading"),m.requestInProgress=!1;var t,n=_[m.settings.sourceType].dataFilter(e);n=n.splice(0,p),m.settings.dataFilter&&(n=m.settings.dataFilter(n));new RegExp(h.val(),"i");m.settings.all_items_link&&(m.itemsCount=n.length+1),m.itemsCount=n.length,v.html(""),t=a({items:n,params:{show_temperature:m.settings.show_temperature,all_items_link:m.settings.all_items_link,items_clickable:m.settings.items_clickable,top100:m.settings.top100}}),v.append(t),v.addClass("suggest__items--expanded"),v.find(".suggest-item").each(function(e){$(this).on("click",function(t){m.selectedItemIndex=e,s(e),m.settings.onSelect($(this),t),m.settings.closeOnSelect&&c(!1),m.settings.submitOnClick&&(t.preventDefault(),r(t))})})}function c(e){e="undefined"==typeof e?!0:e,v.find(".suggest-item").length>0&&(m.selectedItemIndex=-1,e&&h.val(""),v.removeClass("suggest__items--expanded"))}var d=3,p=7;this.params=e,this.itemsCount=0,this.selectedItemIndex=-1,this.requestInProgress=!1;var f={marker:!1,show_temperature:!0,all_items_link:!0,items_clickable:!0,sourceType:"internal",template:"suggest",submitOnEnter:!0,submitOnClick:!1,selectOnEnter:!0,closeOnSelect:!1,dataFilter:null,preventOnLoading:!0,top100:null,onSelect:function(){},onSubmit:function(){},onInput:function(){}};this.settings=$.extend({},f,this.params);var m=this,g=this.settings.$container,h=g.find(".suggest__input"),v=g.find(".suggest__items"),_={global:t(43),internal:t(44),searchNova:t(45)};h.on("keydown",i),h.on("keyup",n.debounce(l,200)),n.outerClick(".suggest__input",this.settings.$container,c)}},function(e,exports,t){var n=t(8);e.exports=(n["default"]||n).template({1:function(e,t,n,a,i,r,s){var l;return null!=(l=n["if"].call(null!=t?t:{},null!=(l=null!=s[1]?s[1].params:s[1])?l.items_clickable:l,{name:"if",hash:{},fn:e.program(2,i,0,r,s),inverse:e.program(4,i,0,r,s),data:i}))?l:""},2:function(e,n,a,i,r,s,l){var o;return null!=(o=e.invokePartial(t(40),n,{name:"suggest-item--clickable",hash:{params:null!=l[1]?l[1].params:l[1]},data:r,indent:"        ",helpers:a,partials:i,decorators:e.decorators}))?o:""},4:function(e,n,a,i,r,s,l){var o;return null!=(o=e.invokePartial(t(42),n,{name:"suggest-item",hash:{params:null!=l[1]?l[1].params:l[1]},data:r,indent:"        ",helpers:a,partials:i,decorators:e.decorators}))?o:""},6:function(e,t,n,a,i){return'    <a href="/world/" class="suggest-item suggest-item--all">Все города</a>\n'},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,i,r,s){var l,o=null!=t?t:{};return(null!=(l=n.each.call(o,null!=t?t.items:t,{name:"each",hash:{},fn:e.program(1,i,0,r,s),inverse:e.noop,data:i}))?l:"")+(null!=(l=n["if"].call(o,null!=(l=null!=t?t.params:t)?l.all_items_link:l,{name:"if",hash:{},fn:e.program(6,i,0,r,s),inverse:e.noop,data:i}))?l:"")},usePartial:!0,useData:!0,useDepths:!0})},function(e,exports,t){var n=t(8);e.exports=(n["default"]||n).template({1:function(e,t,n,a,i){var r,s=e.lambda,l=e.escapeExpression;return"data-cerber-"+l(s(null!=(r=null!=(r=null!=t?t.params:t)?r.top100:r)?r.name:r,t))+'="'+l(s(null!=(r=null!=(r=null!=t?t.params:t)?r.top100:r)?r.value:r,t))+'"'},compiler:[7,">= 4.0.0"],main:function(e,n,a,i,r){var s;return'<a href="'+e.escapeExpression(e.lambda(null!=n?n.link:n,n))+'" class="suggest-item" '+(null!=(s=a["if"].call(null!=n?n:{},null!=(s=null!=n?n.params:n)?s.top100:s,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r}))?s:"")+">\n"+(null!=(s=e.invokePartial(t(41),n,{name:"suggest-item__content",data:r,indent:"    ",helpers:a,partials:i,decorators:e.decorators}))?s:"")+"</a>\n"},usePartial:!0,useData:!0})},function(e,exports,t){var n=t(8);e.exports=(n["default"]||n).template({1:function(e,t,n,a,i){return', <span class="suggest-item__region">'+e.escapeExpression(e.lambda(null!=t?t.region:t,t))},3:function(e,n,a,i,r){var s;return'    <span class="suggest-item__icon">\n'+(null!=(s=e.invokePartial(t(29),n,{name:"$front-utils/templates/icon",data:r,indent:"        ",helpers:a,partials:i,decorators:e.decorators}))?s:"")+'    </span>\n    <span class="suggest-item__value">'+e.escapeExpression(e.lambda(null!=n?n.day:n,n))+"</span>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,i){
var r,s=null!=t?t:{};return'<div class="suggest-item__title">\n    <span>'+e.escapeExpression(e.lambda(null!=t?t.title:t,t))+"</span>"+(null!=(r=n["if"].call(s,null!=t?t.region:t,{name:"if",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i}))?r:"")+"</span>\n</div>\n"+(null!=(r=n["if"].call(s,null!=(r=null!=t?t.params:t)?r.show_temperature:r,{name:"if",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))?r:"")},usePartial:!0,useData:!0})},function(e,exports,t){var n=t(8);e.exports=(n["default"]||n).template({compiler:[7,">= 4.0.0"],main:function(e,n,a,i,r){var s;return'<div class="suggest-item" data-geoid="'+e.escapeExpression(e.lambda(null!=n?n.id:n,n))+'">\n'+(null!=(s=e.invokePartial(t(41),n,{name:"suggest-item__content",data:r,indent:"    ",helpers:a,partials:i,decorators:e.decorators}))?s:"")+"</div>\n"},usePartial:!0,useData:!0})},function(e,exports){e.exports={path:"/location/geo_list/",requestData:{},query_param:"s",type:"json",dataFilter:function(e){var t=[];for(var n in e)t.push({id:e[n].id,title:e[n].name,weight:e[n].weight,region:e[n].parents});return t.sort(function(e,t){return e.weight-t.weight}),t}}},function(e,exports){e.exports={path:"/suggest_weather",requestData:{},query_param:"query",type:"json",dataFilter:function(e){var t=e.items;t.map(function(e){var t=e.region?"("+e.region+")":"";return _this.settings.marker?(e.marker=itemTitle.match(r)[0],e.title=itemTitle.replace(r,$("<b/>").text(e.marker))):e.title=e.city+t,e})}}},function(e,exports){e.exports={path:"https://nova.rambler.ru/suggest",requestData:{v:4},query_param:"query",type:"jsonp",dataFilter:function(e){var t=[],n=e[1];for(var a in n)t.push({id:a,title:n[a][1],link:"https://nova.rambler.ru/search?utm_source=nhp&query="+n[a][1]});return t}}},function(e,exports,t){var n=t(8);e.exports=(n["default"]||n).template({compiler:[7,">= 4.0.0"],main:function(e,n,a,i,r){var s;return'<div class="widget-location">\n    <div class="widget-location__content">\n        <div class="widget-location__title">\n            <div class="widget-location__caption">Изменение региона</div>\n            <a class="widget-location__close">'+(null!=(s=e.invokePartial(t(29),n,{name:"$front-utils/templates/icon",hash:{name:"close"},data:r,helpers:a,partials:i,decorators:e.decorators}))?s:"")+'</a>\n        </div>\n        <ul class="widget-location__options">\n            <li class="widget-location__choice">\n                <p class="widget-location__line"><label>\n                    <input type="radio" name="geolocation" checked="checked" value="1" class="geolocation geolocation--auto input"><span class="js-auto-city__text"></span>\n                </label></p>\n                <p class="widget-location__auto widget-location__line2">Автоматически</p>\n            </li>\n            <li class="widget-location__choice widget-location__choice--manual">\n                <p class="widget-location__line"><label>\n                    <input type="radio" name="geolocation" class="geolocation geolocation--manual input" value="0" autocomplete="off">\n                Задать</label></p>\n                <div class="widget-location__line2">\n'+(null!=(s=e.invokePartial(t(47),n,{name:"$front-suggest/templates/suggest-container",hash:{suggestClasslist:"suggest--light widget-location__suggest"},data:r,indent:"                    ",helpers:a,partials:i,decorators:e.decorators}))?s:"")+'                </div>\n            </li>\n        </ul>\n        <div class="widget-location__label">По возможности будут показаны события и прогноз погоды для выбранного региона</div>\n        <div class="widget-location__buttons">\n            <div class="button button--blue button--size-md widget-location__save">Сохранить</div>\n            <div class="button button--white button--size-md widget-location__cancel">Отмена</div>\n        </div>\n    </div>\n</div>\n'},usePartial:!0,useData:!0})},function(e,exports,t){var n=t(8);e.exports=(n["default"]||n).template({compiler:[7,">= 4.0.0"],main:function(e,n,a,i,r){var s;return'<form class="suggest '+e.escapeExpression(e.lambda(null!=n?n.suggestClasslist:n,n))+'" method="GET">\n'+(null!=(s=e.invokePartial(t(29),n,{name:"$front-utils/templates/icon",hash:{modifier:"suggest__search-icon",name:"search"},data:r,indent:"    ",helpers:a,partials:i,decorators:e.decorators}))?s:"")+'    <input type="text" class="suggest__input" autocomplete="off" placeholder="Введите город или место" tabindex="-1">\n    <div class="suggest__items"></div>\n</form>\n'},usePartial:!0,useData:!0})},function(e,exports){var t=$(".b-search__example a"),n=$(".b-search__input"),a=null;t.click(function(e){return a?(clearTimeout(a),a=null,!0):(e.preventDefault(),n.val(t.text()),void(a=setTimeout(function(){t.get(0).click()},300)))})},function(e,exports){var t=!1;$(window).scroll(function(){var e=$(".b-gap");if(t||!e.length)return!1;var n=e[0].getBoundingClientRect().top,a=$(window).height(),i=n>0&&a>n;i&&yaCounter28161048&&(t=!0,yaCounter28161048.reachGoal("screen2_scroll"))})},function(e,exports){"use strict";var t={};t.initialize=function(){var e=new t.SleepTimer;document.addEventListener("visibilitychange",function(){document.hidden?e.startTimer():(e._timerIsEnded&&location.reload(),e.stopTimer())})},t.SleepTimer=function(e){this._timer=null,this._TIME=e||3e5,this._timerIsEnded=!1},t.SleepTimer.prototype.startTimer=function(){this._timer=setTimeout(function(){this._timerIsEnded=!0}.bind(this),this._TIME)},t.SleepTimer.prototype.isRunning=function(){return Boolean(this._timer)},t.SleepTimer.prototype.stopTimer=function(){this.isRunning()&&(clearTimeout(this._timer),this._timer=null),this._timerIsEnded=!1},t.initialize()}]);