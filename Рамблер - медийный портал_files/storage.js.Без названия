!function(){"use strict";function e(e){document.cookie=l+"="+e+"; domain=.rambler.ru; path=/"}function t(){return!(!document.cookie||!document.cookie.length)&&document.cookie.split(";").reduce(function(e,t){var n=t.replace(/^(\s|\u00A0)+/g,"").split("="),r=u(n,2),o=r[0],i=r[1];return o===l?i:e},null)}function n(){var e=navigator.userAgent.toLowerCase(),t=/(msie|trident|edge)/.test(e),n=/safari/.test(e)&&!/chrome/.test(e);return!t&&!n}function r(e){return"[object Object]"===Object.prototype.toString.call(e)}function o(e){var t=e.key,n=e.newValue;t===l&&s.postMessage({emitter:l,internal:!0,eventType:n},f)}function i(t){var o=t.data;r(o)&&o.emitter===l&&(n()?d.setItem(l,o.eventType):e(o.eventType))}function a(){n()?window.addEventListener("storage",o,!1):(w=t(),setInterval(function(){var e=t();w!==e&&(w=e,o({key:l,newValue:e}))},10))}function c(){window.addEventListener("message",i,!1)}var u=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&c.return&&c.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l="ramblerIdHelper",d=window.localStorage,s=window.parent,f=window.location!==s.location?document.referrer:window.location.protocol+"//"+window.location.hostname,w=void 0;a(),c()}();